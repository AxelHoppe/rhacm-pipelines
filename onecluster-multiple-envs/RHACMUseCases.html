<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=__oB5xU5zZ1EQt8jC57BZCZItKABBvlEaNCNvVUjwCU);.lst-kix_v50i7peasasq-6>li{counter-increment:lst-ctn-kix_v50i7peasasq-6}.lst-kix_90aqa2umo8ov-5>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-5,lower-roman) ". "}.lst-kix_90aqa2umo8ov-6>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-6,decimal) ". "}ol.lst-kix_swcho22vi7z9-6.start{counter-reset:lst-ctn-kix_swcho22vi7z9-6 0}.lst-kix_90aqa2umo8ov-4>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-4,lower-latin) ". "}.lst-kix_90aqa2umo8ov-8>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-8,lower-roman) ". "}.lst-kix_90aqa2umo8ov-7>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-7,lower-latin) ". "}ol.lst-kix_aph8own7xcjx-4.start{counter-reset:lst-ctn-kix_aph8own7xcjx-4 0}.lst-kix_90aqa2umo8ov-0>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-0,decimal) ". "}.lst-kix_90aqa2umo8ov-1>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-1,lower-latin) ". "}.lst-kix_90aqa2umo8ov-2>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-2,lower-roman) ". "}.lst-kix_4ufugrfnp0e-0>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-0}.lst-kix_90aqa2umo8ov-3>li:before{content:"" counter(lst-ctn-kix_90aqa2umo8ov-3,decimal) ". "}ol.lst-kix_v50i7peasasq-5.start{counter-reset:lst-ctn-kix_v50i7peasasq-5 0}ol.lst-kix_giwk9jcuktt0-0.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-0 0}ol.lst-kix_4ufugrfnp0e-0.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-0 0}.lst-kix_giwk9jcuktt0-2>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-2,lower-roman) ". "}.lst-kix_aph8own7xcjx-7>li{counter-increment:lst-ctn-kix_aph8own7xcjx-7}ol.lst-kix_giwk9jcuktt0-6.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-6 0}.lst-kix_90aqa2umo8ov-7>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-7}.lst-kix_giwk9jcuktt0-3>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-3,decimal) ". "}.lst-kix_v50i7peasasq-4>li{counter-increment:lst-ctn-kix_v50i7peasasq-4}.lst-kix_giwk9jcuktt0-4>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-4,lower-latin) ". "}.lst-kix_giwk9jcuktt0-1>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-1,lower-latin) ". "}.lst-kix_8n03veryng2q-1>li{counter-increment:lst-ctn-kix_8n03veryng2q-1}.lst-kix_giwk9jcuktt0-0>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-0,decimal) ". "}ol.lst-kix_8n03veryng2q-4.start{counter-reset:lst-ctn-kix_8n03veryng2q-4 0}ol.lst-kix_4ufugrfnp0e-6.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-6 0}ol.lst-kix_giwk9jcuktt0-8{list-style-type:none}ol.lst-kix_giwk9jcuktt0-7{list-style-type:none}ol.lst-kix_giwk9jcuktt0-6{list-style-type:none}.lst-kix_giwk9jcuktt0-5>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-5,lower-roman) ". "}ol.lst-kix_giwk9jcuktt0-5{list-style-type:none}.lst-kix_giwk9jcuktt0-7>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-7,lower-latin) ". "}.lst-kix_aph8own7xcjx-5>li{counter-increment:lst-ctn-kix_aph8own7xcjx-5}ol.lst-kix_giwk9jcuktt0-4{list-style-type:none}ol.lst-kix_giwk9jcuktt0-3{list-style-type:none}ol.lst-kix_giwk9jcuktt0-2{list-style-type:none}ol.lst-kix_giwk9jcuktt0-1{list-style-type:none}.lst-kix_giwk9jcuktt0-6>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-6,decimal) ". "}ol.lst-kix_swcho22vi7z9-1.start{counter-reset:lst-ctn-kix_swcho22vi7z9-1 0}ol.lst-kix_giwk9jcuktt0-0{list-style-type:none}.lst-kix_90aqa2umo8ov-0>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-0}.lst-kix_giwk9jcuktt0-8>li:before{content:"" counter(lst-ctn-kix_giwk9jcuktt0-8,lower-roman) ". "}ul.lst-kix_nrie6megwsyv-3{list-style-type:none}ul.lst-kix_nrie6megwsyv-4{list-style-type:none}.lst-kix_swcho22vi7z9-7>li{counter-increment:lst-ctn-kix_swcho22vi7z9-7}ol.lst-kix_aph8own7xcjx-5.start{counter-reset:lst-ctn-kix_aph8own7xcjx-5 0}ul.lst-kix_nrie6megwsyv-5{list-style-type:none}ul.lst-kix_nrie6megwsyv-6{list-style-type:none}ol.lst-kix_8n03veryng2q-3.start{counter-reset:lst-ctn-kix_8n03veryng2q-3 0}ul.lst-kix_nrie6megwsyv-0{list-style-type:none}ul.lst-kix_nrie6megwsyv-1{list-style-type:none}ul.lst-kix_nrie6megwsyv-2{list-style-type:none}ol.lst-kix_swcho22vi7z9-0.start{counter-reset:lst-ctn-kix_swcho22vi7z9-0 0}ol.lst-kix_swcho22vi7z9-7.start{counter-reset:lst-ctn-kix_swcho22vi7z9-7 0}ul.lst-kix_nrie6megwsyv-7{list-style-type:none}ul.lst-kix_nrie6megwsyv-8{list-style-type:none}ol.lst-kix_4ufugrfnp0e-5.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-5 0}ol.lst-kix_8n03veryng2q-8{list-style-type:none}.lst-kix_4ufugrfnp0e-2>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-2}ol.lst-kix_giwk9jcuktt0-7.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-7 0}.lst-kix_8n03veryng2q-8>li{counter-increment:lst-ctn-kix_8n03veryng2q-8}ol.lst-kix_giwk9jcuktt0-1.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-1 0}ol.lst-kix_8n03veryng2q-0{list-style-type:none}ol.lst-kix_8n03veryng2q-1{list-style-type:none}ol.lst-kix_8n03veryng2q-2{list-style-type:none}ol.lst-kix_8n03veryng2q-3{list-style-type:none}.lst-kix_giwk9jcuktt0-8>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-8}ol.lst-kix_8n03veryng2q-4{list-style-type:none}ol.lst-kix_8n03veryng2q-5{list-style-type:none}ol.lst-kix_8n03veryng2q-6{list-style-type:none}ol.lst-kix_8n03veryng2q-7{list-style-type:none}ol.lst-kix_90aqa2umo8ov-2.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-2 0}.lst-kix_8n03veryng2q-4>li{counter-increment:lst-ctn-kix_8n03veryng2q-4}ol.lst-kix_4ufugrfnp0e-4.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-4 0}.lst-kix_4ufugrfnp0e-6>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-6}ol.lst-kix_4ufugrfnp0e-1.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-1 0}.lst-kix_aph8own7xcjx-5>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-5,lower-roman) ". "}ol.lst-kix_90aqa2umo8ov-5.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-5 0}.lst-kix_aph8own7xcjx-3>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-3,decimal) ". "}ol.lst-kix_8n03veryng2q-2.start{counter-reset:lst-ctn-kix_8n03veryng2q-2 0}.lst-kix_8n03veryng2q-3>li{counter-increment:lst-ctn-kix_8n03veryng2q-3}.lst-kix_v50i7peasasq-0>li{counter-increment:lst-ctn-kix_v50i7peasasq-0}.lst-kix_aph8own7xcjx-1>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-1,lower-latin) ". "}.lst-kix_8n03veryng2q-7>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-7,lower-latin) ". "}ol.lst-kix_swcho22vi7z9-5.start{counter-reset:lst-ctn-kix_swcho22vi7z9-5 0}.lst-kix_4ufugrfnp0e-3>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-3,decimal) ". "}.lst-kix_4ufugrfnp0e-5>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-5,lower-roman) ". "}ol.lst-kix_v50i7peasasq-4.start{counter-reset:lst-ctn-kix_v50i7peasasq-4 0}.lst-kix_8n03veryng2q-5>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-5,lower-roman) ". "}.lst-kix_4ufugrfnp0e-7>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-7}.lst-kix_v50i7peasasq-3>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-3,decimal) ". "}.lst-kix_v50i7peasasq-7>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-7,lower-latin) ". "}.lst-kix_giwk9jcuktt0-1>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-1}.lst-kix_8n03veryng2q-3>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-3,decimal) ". "}.lst-kix_aph8own7xcjx-1>li{counter-increment:lst-ctn-kix_aph8own7xcjx-1}.lst-kix_4ufugrfnp0e-1>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-1,lower-latin) ". "}.lst-kix_4ufugrfnp0e-7>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-7,lower-latin) ". "}ol.lst-kix_aph8own7xcjx-0.start{counter-reset:lst-ctn-kix_aph8own7xcjx-0 0}.lst-kix_90aqa2umo8ov-4>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-4}.lst-kix_v50i7peasasq-1>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-1,lower-latin) ". "}ol.lst-kix_v50i7peasasq-7.start{counter-reset:lst-ctn-kix_v50i7peasasq-7 0}ol.lst-kix_swcho22vi7z9-2.start{counter-reset:lst-ctn-kix_swcho22vi7z9-2 0}.lst-kix_8n03veryng2q-1>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-1,lower-latin) ". "}.lst-kix_aph8own7xcjx-7>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-7,lower-latin) ". "}ol.lst-kix_aph8own7xcjx-3.start{counter-reset:lst-ctn-kix_aph8own7xcjx-3 0}.lst-kix_swcho22vi7z9-5>li{counter-increment:lst-ctn-kix_swcho22vi7z9-5}.lst-kix_v50i7peasasq-5>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-5,lower-roman) ". "}.lst-kix_90aqa2umo8ov-5>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-5}.lst-kix_aph8own7xcjx-6>li{counter-increment:lst-ctn-kix_aph8own7xcjx-6}ol.lst-kix_swcho22vi7z9-4.start{counter-reset:lst-ctn-kix_swcho22vi7z9-4 0}.lst-kix_swcho22vi7z9-6>li{counter-increment:lst-ctn-kix_swcho22vi7z9-6}ol.lst-kix_90aqa2umo8ov-4.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-4 0}.lst-kix_giwk9jcuktt0-6>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-6}.lst-kix_giwk9jcuktt0-0>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-0}ol.lst-kix_8n03veryng2q-0.start{counter-reset:lst-ctn-kix_8n03veryng2q-0 0}ol.lst-kix_4ufugrfnp0e-3.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-3 0}.lst-kix_swcho22vi7z9-0>li{counter-increment:lst-ctn-kix_swcho22vi7z9-0}ol.lst-kix_aph8own7xcjx-2.start{counter-reset:lst-ctn-kix_aph8own7xcjx-2 0}ol.lst-kix_90aqa2umo8ov-3.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-3 0}.lst-kix_ocui3jxcictd-0>li:before{content:"\0025cf   "}.lst-kix_ocui3jxcictd-4>li:before{content:"\0025cb   "}ol.lst-kix_swcho22vi7z9-3.start{counter-reset:lst-ctn-kix_swcho22vi7z9-3 0}.lst-kix_ocui3jxcictd-2>li:before{content:"\0025a0   "}ol.lst-kix_4ufugrfnp0e-2.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-2 0}ol.lst-kix_aph8own7xcjx-1.start{counter-reset:lst-ctn-kix_aph8own7xcjx-1 0}.lst-kix_ocui3jxcictd-8>li:before{content:"\0025a0   "}ol.lst-kix_v50i7peasasq-6.start{counter-reset:lst-ctn-kix_v50i7peasasq-6 0}.lst-kix_v50i7peasasq-5>li{counter-increment:lst-ctn-kix_v50i7peasasq-5}.lst-kix_ocui3jxcictd-6>li:before{content:"\0025cf   "}.lst-kix_aph8own7xcjx-0>li{counter-increment:lst-ctn-kix_aph8own7xcjx-0}.lst-kix_swcho22vi7z9-4>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-4,lower-latin) ". "}ol.lst-kix_4ufugrfnp0e-0{list-style-type:none}.lst-kix_swcho22vi7z9-2>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-2,lower-roman) ". "}ol.lst-kix_v50i7peasasq-8.start{counter-reset:lst-ctn-kix_v50i7peasasq-8 0}.lst-kix_swcho22vi7z9-1>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-1,lower-latin) ". "}.lst-kix_swcho22vi7z9-5>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-5,lower-roman) ". "}ol.lst-kix_giwk9jcuktt0-3.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-3 0}.lst-kix_swcho22vi7z9-0>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-0,decimal) ". "}.lst-kix_swcho22vi7z9-6>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-6,decimal) ". "}.lst-kix_swcho22vi7z9-8>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-8,lower-roman) ". "}.lst-kix_swcho22vi7z9-7>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-7,lower-latin) ". "}ol.lst-kix_90aqa2umo8ov-0{list-style-type:none}ol.lst-kix_90aqa2umo8ov-2{list-style-type:none}ol.lst-kix_4ufugrfnp0e-8.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-8 0}ol.lst-kix_90aqa2umo8ov-1{list-style-type:none}ol.lst-kix_90aqa2umo8ov-4{list-style-type:none}ol.lst-kix_90aqa2umo8ov-3{list-style-type:none}ol.lst-kix_90aqa2umo8ov-6{list-style-type:none}.lst-kix_v50i7peasasq-7>li{counter-increment:lst-ctn-kix_v50i7peasasq-7}ol.lst-kix_90aqa2umo8ov-5{list-style-type:none}ol.lst-kix_4ufugrfnp0e-8{list-style-type:none}ol.lst-kix_4ufugrfnp0e-7{list-style-type:none}ol.lst-kix_aph8own7xcjx-7.start{counter-reset:lst-ctn-kix_aph8own7xcjx-7 0}ol.lst-kix_4ufugrfnp0e-6{list-style-type:none}ol.lst-kix_4ufugrfnp0e-5{list-style-type:none}ol.lst-kix_4ufugrfnp0e-4{list-style-type:none}ol.lst-kix_4ufugrfnp0e-3{list-style-type:none}.lst-kix_swcho22vi7z9-3>li:before{content:"" counter(lst-ctn-kix_swcho22vi7z9-3,decimal) ". "}.lst-kix_aph8own7xcjx-8>li{counter-increment:lst-ctn-kix_aph8own7xcjx-8}ol.lst-kix_4ufugrfnp0e-2{list-style-type:none}ol.lst-kix_4ufugrfnp0e-1{list-style-type:none}ol.lst-kix_90aqa2umo8ov-1.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-1 0}.lst-kix_4ufugrfnp0e-1>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-1}.lst-kix_giwk9jcuktt0-7>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-7}ol.lst-kix_8n03veryng2q-1.start{counter-reset:lst-ctn-kix_8n03veryng2q-1 0}.lst-kix_swcho22vi7z9-8>li{counter-increment:lst-ctn-kix_swcho22vi7z9-8}ol.lst-kix_v50i7peasasq-3.start{counter-reset:lst-ctn-kix_v50i7peasasq-3 0}.lst-kix_v50i7peasasq-3>li{counter-increment:lst-ctn-kix_v50i7peasasq-3}.lst-kix_giwk9jcuktt0-5>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-5}ol.lst-kix_swcho22vi7z9-8.start{counter-reset:lst-ctn-kix_swcho22vi7z9-8 0}ol.lst-kix_90aqa2umo8ov-0.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-0 0}.lst-kix_8n03veryng2q-2>li{counter-increment:lst-ctn-kix_8n03veryng2q-2}ol.lst-kix_giwk9jcuktt0-8.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-8 0}.lst-kix_90aqa2umo8ov-6>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-6}ol.lst-kix_90aqa2umo8ov-7.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-7 0}.lst-kix_nrie6megwsyv-0>li:before{content:"\0025cf   "}.lst-kix_nrie6megwsyv-1>li:before{content:"\0025cb   "}.lst-kix_nrie6megwsyv-2>li:before{content:"\0025a0   "}ol.lst-kix_v50i7peasasq-2.start{counter-reset:lst-ctn-kix_v50i7peasasq-2 0}.lst-kix_swcho22vi7z9-1>li{counter-increment:lst-ctn-kix_swcho22vi7z9-1}.lst-kix_swcho22vi7z9-4>li{counter-increment:lst-ctn-kix_swcho22vi7z9-4}ol.lst-kix_aph8own7xcjx-5{list-style-type:none}.lst-kix_nrie6megwsyv-5>li:before{content:"\0025a0   "}.lst-kix_nrie6megwsyv-6>li:before{content:"\0025cf   "}ol.lst-kix_aph8own7xcjx-4{list-style-type:none}.lst-kix_4ufugrfnp0e-5>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-5}ol.lst-kix_aph8own7xcjx-3{list-style-type:none}.lst-kix_8n03veryng2q-5>li{counter-increment:lst-ctn-kix_8n03veryng2q-5}ol.lst-kix_aph8own7xcjx-2{list-style-type:none}ol.lst-kix_90aqa2umo8ov-6.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-6 0}ol.lst-kix_aph8own7xcjx-1{list-style-type:none}.lst-kix_nrie6megwsyv-3>li:before{content:"\0025cf   "}.lst-kix_nrie6megwsyv-4>li:before{content:"\0025cb   "}.lst-kix_nrie6megwsyv-7>li:before{content:"\0025cb   "}.lst-kix_nrie6megwsyv-8>li:before{content:"\0025a0   "}ol.lst-kix_aph8own7xcjx-0{list-style-type:none}ol.lst-kix_aph8own7xcjx-8{list-style-type:none}.lst-kix_4ufugrfnp0e-8>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-8}ol.lst-kix_aph8own7xcjx-7{list-style-type:none}ol.lst-kix_aph8own7xcjx-6{list-style-type:none}ol.lst-kix_swcho22vi7z9-8{list-style-type:none}ol.lst-kix_swcho22vi7z9-7{list-style-type:none}ol.lst-kix_swcho22vi7z9-6{list-style-type:none}.lst-kix_aph8own7xcjx-3>li{counter-increment:lst-ctn-kix_aph8own7xcjx-3}ol.lst-kix_swcho22vi7z9-5{list-style-type:none}ol.lst-kix_swcho22vi7z9-4{list-style-type:none}.lst-kix_90aqa2umo8ov-2>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-2}ol.lst-kix_swcho22vi7z9-3{list-style-type:none}ol.lst-kix_swcho22vi7z9-2{list-style-type:none}ol.lst-kix_swcho22vi7z9-1{list-style-type:none}ol.lst-kix_swcho22vi7z9-0{list-style-type:none}.lst-kix_giwk9jcuktt0-2>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-2}.lst-kix_aph8own7xcjx-6>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-6,decimal) ". "}.lst-kix_90aqa2umo8ov-3>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-3}.lst-kix_aph8own7xcjx-4>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-4,lower-latin) ". "}.lst-kix_aph8own7xcjx-2>li{counter-increment:lst-ctn-kix_aph8own7xcjx-2}.lst-kix_aph8own7xcjx-0>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-0,decimal) ". "}.lst-kix_swcho22vi7z9-3>li{counter-increment:lst-ctn-kix_swcho22vi7z9-3}ol.lst-kix_8n03veryng2q-5.start{counter-reset:lst-ctn-kix_8n03veryng2q-5 0}.lst-kix_aph8own7xcjx-2>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-2,lower-roman) ". "}.lst-kix_giwk9jcuktt0-3>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-3}ul.lst-kix_ocui3jxcictd-4{list-style-type:none}.lst-kix_v50i7peasasq-4>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-4,lower-latin) ". "}ol.lst-kix_90aqa2umo8ov-8.start{counter-reset:lst-ctn-kix_90aqa2umo8ov-8 0}ul.lst-kix_ocui3jxcictd-3{list-style-type:none}.lst-kix_8n03veryng2q-6>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-6,decimal) ". "}ul.lst-kix_ocui3jxcictd-2{list-style-type:none}ul.lst-kix_ocui3jxcictd-1{list-style-type:none}.lst-kix_90aqa2umo8ov-1>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-1}ul.lst-kix_ocui3jxcictd-0{list-style-type:none}.lst-kix_4ufugrfnp0e-2>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-2,lower-roman) ". "}.lst-kix_4ufugrfnp0e-6>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-6,decimal) ". "}.lst-kix_v50i7peasasq-0>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-0,decimal) ". "}.lst-kix_8n03veryng2q-2>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-2,lower-roman) ". "}.lst-kix_v50i7peasasq-8>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-8,lower-roman) ". "}ul.lst-kix_ocui3jxcictd-8{list-style-type:none}.lst-kix_v50i7peasasq-2>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-2,lower-roman) ". "}.lst-kix_giwk9jcuktt0-4>li{counter-increment:lst-ctn-kix_giwk9jcuktt0-4}ul.lst-kix_ocui3jxcictd-7{list-style-type:none}.lst-kix_v50i7peasasq-1>li{counter-increment:lst-ctn-kix_v50i7peasasq-1}.lst-kix_8n03veryng2q-4>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-4,lower-latin) ". "}.lst-kix_4ufugrfnp0e-4>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-4}ul.lst-kix_ocui3jxcictd-6{list-style-type:none}ul.lst-kix_ocui3jxcictd-5{list-style-type:none}ol.lst-kix_giwk9jcuktt0-2.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-2 0}.lst-kix_aph8own7xcjx-4>li{counter-increment:lst-ctn-kix_aph8own7xcjx-4}ol.lst-kix_8n03veryng2q-8.start{counter-reset:lst-ctn-kix_8n03veryng2q-8 0}.lst-kix_4ufugrfnp0e-0>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-0,decimal) ". "}.lst-kix_4ufugrfnp0e-8>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-8,lower-roman) ". "}.lst-kix_swcho22vi7z9-2>li{counter-increment:lst-ctn-kix_swcho22vi7z9-2}.lst-kix_aph8own7xcjx-8>li:before{content:"" counter(lst-ctn-kix_aph8own7xcjx-8,lower-roman) ". "}ol.lst-kix_4ufugrfnp0e-7.start{counter-reset:lst-ctn-kix_4ufugrfnp0e-7 0}ol.lst-kix_v50i7peasasq-1.start{counter-reset:lst-ctn-kix_v50i7peasasq-1 0}.lst-kix_v50i7peasasq-6>li:before{content:"" counter(lst-ctn-kix_v50i7peasasq-6,decimal) ". "}ol.lst-kix_aph8own7xcjx-6.start{counter-reset:lst-ctn-kix_aph8own7xcjx-6 0}.lst-kix_8n03veryng2q-0>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-0,decimal) ". "}.lst-kix_4ufugrfnp0e-4>li:before{content:"" counter(lst-ctn-kix_4ufugrfnp0e-4,lower-latin) ". "}.lst-kix_8n03veryng2q-7>li{counter-increment:lst-ctn-kix_8n03veryng2q-7}ol.lst-kix_giwk9jcuktt0-5.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-5 0}ol.lst-kix_v50i7peasasq-0.start{counter-reset:lst-ctn-kix_v50i7peasasq-0 0}ol.lst-kix_v50i7peasasq-8{list-style-type:none}ol.lst-kix_v50i7peasasq-7{list-style-type:none}ol.lst-kix_v50i7peasasq-6{list-style-type:none}ol.lst-kix_8n03veryng2q-7.start{counter-reset:lst-ctn-kix_8n03veryng2q-7 0}ol.lst-kix_v50i7peasasq-1{list-style-type:none}.lst-kix_8n03veryng2q-6>li{counter-increment:lst-ctn-kix_8n03veryng2q-6}ol.lst-kix_v50i7peasasq-0{list-style-type:none}.lst-kix_4ufugrfnp0e-3>li{counter-increment:lst-ctn-kix_4ufugrfnp0e-3}ol.lst-kix_v50i7peasasq-5{list-style-type:none}ol.lst-kix_v50i7peasasq-4{list-style-type:none}.lst-kix_8n03veryng2q-8>li:before{content:"" counter(lst-ctn-kix_8n03veryng2q-8,lower-roman) ". "}ol.lst-kix_v50i7peasasq-3{list-style-type:none}ol.lst-kix_v50i7peasasq-2{list-style-type:none}ol.lst-kix_giwk9jcuktt0-4.start{counter-reset:lst-ctn-kix_giwk9jcuktt0-4 0}.lst-kix_ocui3jxcictd-1>li:before{content:"\0025cb   "}.lst-kix_8n03veryng2q-0>li{counter-increment:lst-ctn-kix_8n03veryng2q-0}ol.lst-kix_90aqa2umo8ov-8{list-style-type:none}ol.lst-kix_90aqa2umo8ov-7{list-style-type:none}.lst-kix_ocui3jxcictd-3>li:before{content:"\0025cf   "}.lst-kix_ocui3jxcictd-7>li:before{content:"\0025cb   "}ol.lst-kix_aph8own7xcjx-8.start{counter-reset:lst-ctn-kix_aph8own7xcjx-8 0}.lst-kix_v50i7peasasq-2>li{counter-increment:lst-ctn-kix_v50i7peasasq-2}.lst-kix_ocui3jxcictd-5>li:before{content:"\0025a0   "}.lst-kix_v50i7peasasq-8>li{counter-increment:lst-ctn-kix_v50i7peasasq-8}ol.lst-kix_8n03veryng2q-6.start{counter-reset:lst-ctn-kix_8n03veryng2q-6 0}.lst-kix_90aqa2umo8ov-8>li{counter-increment:lst-ctn-kix_90aqa2umo8ov-8}ol{margin:0;padding:0}table td,table th{padding:0}.c25{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#1e1e1e;border-left-style:solid;border-bottom-width:0pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c11{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c29{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:15pt;font-family:"Arial";font-style:normal}.c14{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c18{background-color:#1e1e1e;-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:"Consolas"}.c10{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c30{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c27{background-color:#f6f8fa;color:#005cc5;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Consolas";font-style:normal}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c38{padding-top:0pt;padding-bottom:16pt;line-height:1.15;page-break-after:avoid;text-align:left}.c31{background-color:#ffffff;font-size:10.5pt;font-family:"Overpass";color:#929292;font-weight:400}.c23{background-color:#1e1e1e;color:#57a64a;font-weight:400;font-family:"Consolas";font-style:italic}.c37{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c32{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c4{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c34{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;text-align:left}.c22{background-color:#1e1e1e;font-family:"Consolas";color:#b8d7a3;font-weight:400}.c35{background-color:#1e1e1e;font-family:"Consolas";color:#569cd6;font-weight:400}.c21{background-color:#1e1e1e;font-family:"Consolas";color:#9b9b9b;font-weight:400}.c17{text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c6{border-spacing:0;border-collapse:collapse;margin-right:auto}.c28{background-color:#1e1e1e;font-family:"Consolas";color:#9a5334;font-weight:400}.c2{background-color:#1e1e1e;font-family:"Consolas";color:#dcdcdc;font-weight:400}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c9{background-color:#1e1e1e;font-family:"Consolas";color:#d7ba7d;font-weight:400}.c0{background-color:#1e1e1e;font-family:"Consolas";color:#9cdcfe;font-weight:400}.c1{background-color:#1e1e1e;font-family:"Consolas";color:#d69d85;font-weight:400}.c24{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c39{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c16{padding:0;margin:0}.c26{margin-left:36pt;padding-left:0pt}.c33{color:#000000;font-family:"Arial"}.c13{orphans:2;widows:2}.c20{color:inherit;text-decoration:inherit}.c15{height:0pt}.c8{height:11pt}.c19{font-weight:700}.c36{height:266.2pt}.c5{font-size:10pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c39"><p class="c34 c13 title" id="h.2psmfvrk5od"><span class="c11">GitOps using Red Hat OpenShift Pipelines (Tekton) and Red Hat Advanced Cluster Management</span></p><p class="c13 c38 subtitle" id="h.7qc3x209bvo"><span class="c29">Series of articles</span></p><p class="c3"><span class="c19">Objectives: </span><span>Explore different use cases using RH ACM + Tekton for </span><span class="c19">gitops</span><span class="c7">.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c17 c19 c33">Use Cases:</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">1. Application management (ALM) using one cluster and one namespace representing each lifecycle phase (e.g.: DEV/QA/PRD);</span></p><p class="c3"><span class="c7">2. Application management (ALM) using multiple clusters for each lifecycle phase (e.g.: one cluster for non-production stages, such as DEV/QA and another one for production workloads);</span></p><p class="c3"><span class="c7">3. Same as the use case two but with more than one production cluster (e.g.: Prod and DR).</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">The focus is first on the CD phase (only deployment of an image) and one last complete use case with the entire CI/CD (build and deployment).</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c17 c33 c19">Proposal:</span></p><p class="c3"><span>Create 3 articles, one exploring the first use case, second focused on use cases 2 and 3 and a final one showing an entire CI/CD pipeline (use case 2, 3 + build phase).</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3 c8"><span class="c7"></span></p><hr style="page-break-before:always;display:none;"><p class="c3 c8"><span class="c7"></span></p><p class="c13 c34 title" id="h.564dgucgrmy1"><span class="c11">1st Article:</span></p><p class="c3"><span>Image (I am not a designer, so I am not sure which kind of image would be nice for the article front page, but I found this image on </span><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://www.piqsels.com/&amp;sa=D&amp;ust=1598622970832000&amp;usg=AOvVaw0wIgEDfaczVYj0CBZOGOFi">https://www.piqsels.com/</a></span><span class="c7">, which is royalty free and I thought it cool. If you guys think we should change just let me know, no prob at all!):</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.95px; height: 343.50px;"><img alt="" src="images/image6.jpg" style="width: 610.95px; height: 343.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c13 c37" id="h.rwylu866dij5"><span class="c10">GitOps using Red Hat OpenShift Pipelines (Tekton) and Red Hat Advanced Cluster Management</span></h1><p class="c3"><span class="c31">MMMMM DD, 2020 | by Giovanni Fontana</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">Recently, Red Hat launched the Advanced Cluster Management tool, which aims to help organizations overcome the challenges of having applications deployed in multiple clusters and clouds. Red Hat is also actively collaborating with the Tekton project as the solution that will enable teams to build Kubernetes-style delivery pipelines that can fully control and own the complete lifecycle of their microservices without having to rely on central teams to maintain and manage a CI server, plugins, and its configurations.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span>In this article, we will use both worlds together to build a CI/CD pipeline which will deploy an application in multiple environments and multiple clusters. If this is the first time you see RH ACM, I recommend you start by reading </span><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://www.openshift.com/blog/understanding-gitops-with-red-hat-advanced-cluster-management&amp;sa=D&amp;ust=1598622970833000&amp;usg=AOvVaw2ZtTUZQF4Q761l98YZc0du">this article</a></span><span class="c7">.</span></p><h2 class="c32 c13" id="h.lbfox5qpx7o6"><span class="c30">Use Cases:</span></h2><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">In general, each organization defines its application lifecycle strategy differently based on its own business requirements. Having that in mind, I will try to reproduce some general use cases, from simpler ones to more complex use cases.</span></p><p class="c3"><span>1. </span><span class="c19">One single cluster:</span><span class="c7">&nbsp;multiple environments using different namespaces.</span></p><p class="c3"><span>2. </span><span class="c19">Two clusters:</span><span class="c7">&nbsp;one for non-production workloads and another one for production.</span></p><p class="c3"><span>3. </span><span class="c19">Three or more clusters:</span><span class="c7">&nbsp;one for non-production workloads and two or more clusters for production workloads (e.g.: Production and DR cluster).</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">Also, we will simulate first a simpler scenario where we will focus only on the deployment of an image (essentially the CD stage) and finally a more complete pipeline including the building phase (entire CI/CD workflow).</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">In this article, I am going to show only the first use case. Use cases 2 and 3 will be covered in the next posts.</span></p><h2 class="c32 c13" id="h.husuz9g7w9oy"><span class="c30">Preparation:</span></h2><p class="c3 c8"><span class="c17 c33 c19"></span></p><p class="c3"><span class="c7">I will not cover the installation of RH ACM and OpenShift Pipelines. The deployment is very straightforward using Operators and you can find the instructions in the official documentation:</span></p><ul class="c16 lst-kix_ocui3jxcictd-0 start"><li class="c3 c26"><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://docs.openshift.com/container-platform/4.5/pipelines/installing-pipelines.html&amp;sa=D&amp;ust=1598622970835000&amp;usg=AOvVaw0_eW0xk2hhDzZAZ7Tsk1_9">Installing OpenShift Pipelines | Pipelines | OpenShift Container Platform 4.5</a></span></li><li class="c3 c26"><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.0/html/install/index&amp;sa=D&amp;ust=1598622970835000&amp;usg=AOvVaw3DCas6I2jh_N4SXe2RR0yd">Install Red Hat Advanced Cluster Management for Kubernetes 2.0</a></span></li></ul><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span>Both tools have been installed in a dedicated OpenShift cluster, which RH ACM names as &ldquo;hub cluster&rdquo;. Also, the managed-cluster has been imported in RH ACM with name &ldquo;</span><span class="c19">prd</span><span class="c7">&rdquo;:</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 301.33px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 301.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c8"><span class="c7"></span></p><h2 class="c13 c32" id="h.k5necpbn5ig6"><span class="c30">GitOps in a single OpenShift cluster using Red Hat OpenShift Pipelines (Tekton) and Red Hat Advanced Cluster Management</span></h2><p class="c3"><span>In this use case, I will be using the </span><span class="c19">etherpad</span><span>, a sample application from </span><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://github.com/redhat-gpte-devopsautomation/rhacm-labs&amp;sa=D&amp;ust=1598622970836000&amp;usg=AOvVaw2s4rJpCNviHDGbrj9vcuMb">rhacm-labs</a></span><span class="c7">. </span></p><h3 class="c4 c13" id="h.u0tul2926di"><span class="c14">Resources:</span></h3><p class="c3"><span class="c7">Basically we have three types of resources we will need to handle:</span></p><p class="c3"><span>1. </span><span class="c19">Application resources</span><span class="c7">: YAML files that describe the k8s application, such as the application deployment, route, services, and so on.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 213.33px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 213.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c19">2. RH ACM resources</span><span class="c7">: Files that will create the objects that RH ACM uses to manage an application. The following objects will be used:</span></p><ul class="c16 lst-kix_nrie6megwsyv-0 start"><li class="c3 c26"><span class="c19">Channels</span><span class="c7">&nbsp;(channel.apps.open-cluster-management.io): define the source repositories that a cluster can subscribe to with a subscription, and can be the following types: GitHub repositories, Helm release registries, object stores, and resource template (deployable) namespaces on the hub cluster. In our case, we are using a GitHub channel.</span></li><li class="c3 c26"><span class="c19">Subscriptions</span><span class="c7">&nbsp;(subscription.apps.open-cluster-management.io): allow clusters to subscribe to a source repository (channel). Subscriptions can be applied locally to the hub or to managed-clusters.</span></li><li class="c3 c26"><span class="c19">Placement rules</span><span class="c7">&nbsp;(placementrule.apps.open-cluster-management.io): define the target clusters where subscriptions deploy and maintain the Kubernetes resources. You can use placement rules to help you facilitate the multi-cluster deployment. Placement rules can be shared across subscriptions.</span></li><li class="c3 c26"><span class="c19">Applications</span><span class="c7">&nbsp;(application.app.k8s.io): Used in Red Hat Advanced Cluster Management for Kubernetes for grouping Kubernetes resources that make up an application.</span></li></ul><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 162.67px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 162.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span>3. </span><span class="c19">Tekton resources</span><span class="c7">: Files that will create the tasks and pipeline to deploy the application using RH ACM in three different stages: Development, QA, and Production.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 172.00px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 172.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span>All source code used in this demo is in this git repository: </span><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://github.com/giofontana/rhacm-pipelines/tree/master/onecluster-multiple-envs&amp;sa=D&amp;ust=1598622970838000&amp;usg=AOvVaw0xwF9peiKICHDX_tkpcN5M">https://github.com/giofontana/rhacm-pipelines/tree/master/onecluster-multiple-envs</a></span></p><p class="c3 c8"><span class="c7"></span></p><h3 class="c4 c13" id="h.ljiyxakfp5q7"><span class="c14">Deploying an application using RH ACM</span></h3><p class="c3"><span class="c7">To begin our process let&rsquo;s look first on how to deploy the sample application using RH ACM. The first thing we will need to do is to create namespaces on the hub cluster that will manage the application.</span></p><p class="c3 c8"><span class="c7"></span></p><a id="t.6e23a3fb10dc57e40e45b104e309f451aefbbf49"></a><a id="t.0"></a><table class="c6"><tbody><tr class="c15"><td class="c25" colspan="1" rowspan="1"><p class="c12"><span class="c21">---</span><span class="c2"><br></span><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">v1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">Namespace</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c21">---</span><span class="c2"><br></span><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">v1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">Namespace</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-qa</span><span class="c2"><br></span><span class="c21">---</span><span class="c2"><br></span><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">v1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">Namespace</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-prd</span></p></td></tr></tbody></table><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">We are creating a project for each stage of our application lifecycle (DEV/QA/PRD). This is a sample, in a real-world scenario probably you should use some annotations and labels in your namespaces also.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">We also will have an application, channel, placement-rule, and subscription YAML file for each stage:</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span>Example for </span><span class="c19">dev</span><span class="c7">:</span></p><a id="t.de55b02cb751bb01d9c5dcf07dd826b4c3104938"></a><a id="t.1"></a><table class="c6"><tbody><tr class="c15"><td class="c25" colspan="1" rowspan="1"><p class="c12"><span class="c21">---</span><span class="c2"><br></span><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">app.k8s.io/v1beta1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">Application</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c0">&nbsp; namespace:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c0">spec:</span><span class="c2"><br></span><span class="c0">&nbsp; componentKinds:</span><span class="c2"><br></span><span class="c0">&nbsp; - group:</span><span class="c2">&nbsp;</span><span class="c1">apps.open-cluster-management.io</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; kind:</span><span class="c2">&nbsp;</span><span class="c1">Subscription</span><span class="c2"><br></span><span class="c0">&nbsp; descriptor:</span><span class="c2">&nbsp;</span><span class="c1">{}</span><span class="c2"><br></span><span class="c0">&nbsp; selector:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; matchExpressions:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - key:</span><span class="c2">&nbsp;</span><span class="c1">app</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; operator:</span><span class="c2">&nbsp;</span><span class="c1">In</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; values:</span><span class="c2"><br></span><span class="c9">&nbsp; &nbsp; &nbsp; -</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c21">---</span><span class="c2"><br></span><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">apps.open-cluster-management.io/v1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">Channel</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-app-latest</span><span class="c2"><br></span><span class="c0">&nbsp; namespace:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c0">spec:</span><span class="c2"><br></span><span class="c0">&nbsp; type:</span><span class="c2">&nbsp;</span><span class="c1">GitHub</span><span class="c2"><br></span><span class="c0">&nbsp; pathname:</span><span class="c2">&nbsp;</span><span class="c18"><a class="c20" href="https://www.google.com/url?q=https://github.com/giofontana/rhacm-pipelines.git&amp;sa=D&amp;ust=1598622970843000&amp;usg=AOvVaw1mSkY0bfLmGp-9wm7HgZxl">https://github.com/giofontana/rhacm-pipelines.git</a></span><span class="c0">&nbsp;</span><span class="c2"><br></span><span class="c21">---</span><span class="c2"><br></span><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">apps.open-cluster-management.io/v1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">PlacementRule</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">dev-cluster</span><span class="c2"><br></span><span class="c0">&nbsp; namespace:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c0">spec:</span><span class="c2"><br></span><span class="c0">&nbsp; clusterConditions:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - type:</span><span class="c2">&nbsp;</span><span class="c1">ManagedClusterConditionAvailable</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; status:</span><span class="c2">&nbsp;</span><span class="c1">&quot;True&quot;</span><span class="c2"><br></span><span class="c0">&nbsp; clusterSelector:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; matchLabels:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; environment:</span><span class="c2">&nbsp;</span><span class="c1">prd</span><span class="c2"><br></span><span class="c21">---</span><span class="c2"><br></span><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">apps.open-cluster-management.io/v1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">Subscription</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c0">&nbsp; namespace:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c0">&nbsp; labels:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; app:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev</span><span class="c2"><br></span><span class="c0">&nbsp; annotations:</span><span class="c2"><br> &nbsp; &nbsp;</span><span class="c1">apps.open-cluster-management.io/github-path:</span><span class="c2">&nbsp;</span><span class="c1">onecluster-multiple-envs/app-resources/etherpad/dev</span><span class="c2"><br></span><span class="c0">spec:</span><span class="c2"><br></span><span class="c0">&nbsp; channel:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-acm-dev/etherpad-app-latest</span><span class="c2"><br></span><span class="c0">&nbsp; placement:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; placementRef:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; kind:</span><span class="c2">&nbsp;</span><span class="c1">PlacementRule</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">dev-cluster</span></p></td></tr></tbody></table><p class="c3"><span class="c7">Note: You will notice that the clusterSelector for all stages are equal, this is because for while we are using one single managed-cluster. You can switch it according to as many clusters as you need.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">This is the folder structure we will have in the end:</span></p><a id="t.c9c367e8a1d666052889e169f04c66ecd067e18b"></a><a id="t.2"></a><table class="c6"><tbody><tr class="c36"><td class="c25" colspan="1" rowspan="1"><p class="c12"><span class="c2">onecluster-multiple-envs</span><span class="c2">/</span><span class="c2">rhacm</span></p><p class="c12"><span class="c2">&#9500;&#9472;&#9472; namespaces</span><span class="c9">.yaml</span><span class="c2"><br>&#9500;&#9472;&#9472; dev<br>&#9474; &nbsp; &#9500;&#9472;&#9472; application</span><span class="c9">.yaml</span><span class="c2"><br>&#9474; &nbsp; &#9500;&#9472;&#9472; channel</span><span class="c9">.yaml</span><span class="c2"><br>&#9474; &nbsp; &#9500;&#9472;&#9472; placement-rule</span><span class="c9">.yaml</span><span class="c2"><br>&#9474; &nbsp; &#9492;&#9472;&#9472; subscription</span><span class="c9">.yaml</span><span class="c2"><br>&#9500;&#9472;&#9472; prd<br>&#9474; &nbsp; &#9500;&#9472;&#9472; application</span><span class="c9">.yaml</span><span class="c2"><br>&#9474; &nbsp; &#9500;&#9472;&#9472; channel</span><span class="c9">.yaml</span><span class="c2"><br>&#9474; &nbsp; &#9500;&#9472;&#9472; placement-rule</span><span class="c9">.yaml</span><span class="c2"><br>&#9474; &nbsp; &#9492;&#9472;&#9472; subscription</span><span class="c9">.yaml</span><span class="c2"><br>&#9492;&#9472;&#9472; qa<br> &nbsp; &nbsp;&#9500;&#9472;&#9472; application</span><span class="c9">.yaml</span><span class="c2"><br> &nbsp; &nbsp;&#9500;&#9472;&#9472; channel</span><span class="c9">.yaml</span><span class="c2"><br> &nbsp; &nbsp;&#9500;&#9472;&#9472; placement-rule</span><span class="c9">.yaml</span><span class="c2"><br> &nbsp; &nbsp;&#9492;&#9472;&#9472; subscription.yaml</span></p></td></tr></tbody></table><p class="c12 c8"><span class="c7"></span></p><p class="c12"><span class="c7">Now, let&rsquo;s test it? To deploy this structure you just need to run each YAML file against the RH ACM hub cluster.</span></p><p class="c12 c8"><span class="c7"></span></p><p class="c12"><span>ADD ANIMATED_GIF: </span><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://drive.google.com/file/d/1iGm6OIRiatV0u4PxFu07xjYbIIBLMmUb/view?usp%3Dsharing&amp;sa=D&amp;ust=1598622970848000&amp;usg=AOvVaw3VHcm-VVSOlHs6mCfkhp1X">https://drive.google.com/file/d/1iGm6OIRiatV0u4PxFu07xjYbIIBLMmUb/view?usp=sharing</a></span></p><p class="c12 c8"><span class="c7"></span></p><p class="c12"><span class="c7">On the right side, you will see the managed cluster. Note that as soon as the subscription is created on the hub cluster, the deployment starts on the managed cluster - first DEV, then QA, and finally PRD.</span></p><h3 class="c4" id="h.tmkv7c8p8qbj"><span class="c14">Creating a pipeline using RH ACM resources</span></h3><p class="c3"><span class="c7">Now that we already have our 3 projects for each stage (DEV/QA/PRD) being deployed and managed using RH ACM, we will create a pipeline to create the RH ACM resources automatically using Tekton.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">To do that we have the following tasks in Tekton:</span></p><p class="c3"><span class="c7">&nbsp;</span></p><ol class="c16 lst-kix_swcho22vi7z9-0 start" start="1"><li class="c3 c26"><span class="c7">create_namespaces: Create the namespaces needed in the hub cluster.</span></li><li class="c3 c26"><span class="c7">etherpad-dev-deployment: Deployment of DEV stage of etherpad.</span></li><li class="c3 c26"><span class="c7">etherpad-qa-deployment: Deployment of QA stage of etherpad.</span></li><li class="c3 c26"><span class="c7">etherpad-prd-deployment: Deployment of PRD stage of etherpad.</span></li></ol><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">Also, we created a pipeline with the following structure:</span></p><p class="c3 c8"><span class="c7"></span></p><a id="t.241f75d83b8b77ae0c4e8826b537d55d7806867e"></a><a id="t.3"></a><table class="c6"><tbody><tr class="c15"><td class="c25" colspan="1" rowspan="1"><p class="c12"><span class="c0">apiVersion:</span><span class="c2">&nbsp;</span><span class="c1">tekton.dev/v1beta1</span><span class="c2"><br></span><span class="c0">kind:</span><span class="c2">&nbsp;</span><span class="c1">Pipeline</span><span class="c2"><br></span><span class="c0">metadata:</span><span class="c2"><br></span><span class="c0">&nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">deploy-using-acm</span><span class="c2"><br></span><span class="c0">spec:</span><span class="c2"><br></span><span class="c0">&nbsp; workspaces:</span><span class="c2"><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">shared-workspace</span><span class="c2"><br></span><span class="c0">&nbsp; params:</span><span class="c2"><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">deployment-name</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; type:</span><span class="c2">&nbsp;</span><span class="c1">string</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; description:</span><span class="c2">&nbsp;</span><span class="c1">name</span><span class="c2">&nbsp;</span><span class="c1">of</span><span class="c2">&nbsp;</span><span class="c1">the</span><span class="c2">&nbsp;</span><span class="c1">deployment</span><span class="c2">&nbsp;</span><span class="c1">to</span><span class="c2">&nbsp;</span><span class="c1">be</span><span class="c2">&nbsp;</span><span class="c1">patched</span><span class="c2"><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">git-url</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; type:</span><span class="c2">&nbsp;</span><span class="c1">string</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; description:</span><span class="c2">&nbsp;</span><span class="c1">url</span><span class="c2">&nbsp;</span><span class="c1">of</span><span class="c2">&nbsp;</span><span class="c1">the</span><span class="c2">&nbsp;</span><span class="c1">git</span><span class="c2">&nbsp;</span><span class="c1">repo</span><span class="c2">&nbsp;</span><span class="c1">for</span><span class="c2">&nbsp;</span><span class="c1">the</span><span class="c2">&nbsp;</span><span class="c1">code</span><span class="c2">&nbsp;</span><span class="c1">of</span><span class="c2">&nbsp;</span><span class="c1">deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; default:</span><span class="c2">&nbsp;</span><span class="c1">&quot;https://github.com/giofontana/rhacm-pipelines.git&quot;</span><span class="c2"><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">git-revision</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; type:</span><span class="c2">&nbsp;</span><span class="c1">string</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; description:</span><span class="c2">&nbsp;</span><span class="c1">revision</span><span class="c2">&nbsp;</span><span class="c1">to</span><span class="c2">&nbsp;</span><span class="c1">be</span><span class="c2">&nbsp;</span><span class="c1">used</span><span class="c2">&nbsp;</span><span class="c1">from</span><span class="c2">&nbsp;</span><span class="c1">repo</span><span class="c2">&nbsp;</span><span class="c1">of</span><span class="c2">&nbsp;</span><span class="c1">the</span><span class="c2">&nbsp;</span><span class="c1">code</span><span class="c2">&nbsp;</span><span class="c1">for</span><span class="c2">&nbsp;</span><span class="c1">deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; default:</span><span class="c2">&nbsp;</span><span class="c1">&quot;master&quot;</span><span class="c2"><br></span><span class="c0">&nbsp; tasks:</span><span class="c2"><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">fetch-repository</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; taskRef:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">git-clone</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; kind:</span><span class="c2">&nbsp;</span><span class="c1">ClusterTask</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; workspaces:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">output</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; workspace:</span><span class="c2">&nbsp;</span><span class="c1">shared-workspace</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; params:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">url</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; value:</span><span class="c2">&nbsp;</span><span class="c1">$(params.git-url)</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">subdirectory</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; value:</span><span class="c2">&nbsp;</span><span class="c1">&quot;&quot;</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">deleteExisting</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; value:</span><span class="c2">&nbsp;</span><span class="c1">&quot;true&quot;</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">revision</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; value:</span><span class="c2">&nbsp;</span><span class="c1">$(params.git-revision)</span><span class="c2"><br> &nbsp; &nbsp; &nbsp;<br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">create-namespaces</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; taskRef:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; kind:</span><span class="c2">&nbsp;</span><span class="c1">Task</span><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="c0">&nbsp; &nbsp; &nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">create-namespaces</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; workspaces:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">source</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; workspace:</span><span class="c2">&nbsp;</span><span class="c1">shared-workspace</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; runAfter:</span><span class="c2"><br></span><span class="c9">&nbsp; &nbsp; -</span><span class="c2">&nbsp;</span><span class="c1">fetch-repository</span><span class="c2">&nbsp; &nbsp; &nbsp;<br><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-dev-deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; taskRef:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; kind:</span><span class="c2">&nbsp;</span><span class="c1">Task</span><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="c0">&nbsp; &nbsp; &nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-dev-deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; workspaces:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">source</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; workspace:</span><span class="c2">&nbsp;</span><span class="c1">shared-workspace</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; runAfter:</span><span class="c2"><br></span><span class="c9">&nbsp; &nbsp; -</span><span class="c2">&nbsp;</span><span class="c1">create-namespaces</span><span class="c2">&nbsp; &nbsp; &nbsp; <br><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-qa-deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; taskRef:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; kind:</span><span class="c2">&nbsp;</span><span class="c1">Task</span><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="c0">&nbsp; &nbsp; &nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-qa-deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; workspaces:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">source</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; workspace:</span><span class="c2">&nbsp;</span><span class="c1">shared-workspace</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; runAfter:</span><span class="c2"><br></span><span class="c9">&nbsp; &nbsp; -</span><span class="c2">&nbsp;</span><span class="c1">etherpad-dev-deployment</span><span class="c2">&nbsp; <br><br></span><span class="c0">&nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-prd-deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; taskRef:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; kind:</span><span class="c2">&nbsp;</span><span class="c1">Task</span><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="c0">&nbsp; &nbsp; &nbsp; name:</span><span class="c2">&nbsp;</span><span class="c1">etherpad-prd-deployment</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; workspaces:</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; - name:</span><span class="c2">&nbsp;</span><span class="c1">source</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; &nbsp; workspace:</span><span class="c2">&nbsp;</span><span class="c1">shared-workspace</span><span class="c2"><br></span><span class="c0">&nbsp; &nbsp; runAfter:</span><span class="c2"><br></span><span class="c9">&nbsp; &nbsp; -</span><span class="c2">&nbsp;</span><span class="c1">etherpad-qa-deployment</span><span class="c2">&nbsp; &nbsp;</span></p></td></tr></tbody></table><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">We can now deploy the Tekton objects:</span></p><p class="c3 c8"><span class="c7"></span></p><a id="t.a24fa89b11cc854886b6fdda9651072c11c5aa4b"></a><a id="t.4"></a><table class="c6"><tbody><tr class="c15"><td class="c25" colspan="1" rowspan="1"><p class="c12"><span class="c2 c5">&gt; oc new-project etherpad-cicd<br><br>Now using project </span><span class="c1 c5">&quot;etherpad-cicd&quot;</span><span class="c2 c5">&nbsp;on server </span><span class="c1 c5">&quot;https://api.acmhub.rhbr-labs.com:6443&quot;</span><span class="c2 c5">.<br><br>You can add applications to this project with the </span><span class="c1 c5">&#39;new-app&#39;</span><span class="c2 c5">&nbsp;command. For example, try:<br><br> &nbsp; &nbsp;oc new-app ruby~https:</span><span class="c23 c5">//github.com/sclorg/ruby-ex.git</span><span class="c2 c5"><br><br>to build </span><span class="c9 c5">a</span><span class="c2 c5">&nbsp;new example application </span><span class="c5 c35">in</span><span class="c2 c5">&nbsp;Python. Or use kubectl to deploy </span><span class="c9 c5">a</span><span class="c2 c5">&nbsp;simple Kubernetes application:<br><br> &nbsp; &nbsp;kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node<br><br>&gt; &nbsp;oc get serviceaccount pipeline<br>NAME &nbsp; &nbsp; &nbsp; SECRETS &nbsp; AGE<br>pipeline &nbsp; </span><span class="c22 c5">2</span><span class="c2 c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c22 c5">29s</span><span class="c2 c5"><br><br>&gt; cd </span><span class="c2 c5">onecluster-multiple-envs</span><span class="c2 c5">/tekton<br><br>&gt; oc create -f tasks/</span><span class="c5 c22">01</span><span class="c2 c5">_create_namespaces</span><span class="c9 c5">.yaml</span><span class="c2 c5"><br>task</span><span class="c9 c5">.tekton.dev</span><span class="c2 c5">/create-namespaces created<br><br>&gt; oc create -f tasks/</span><span class="c22 c5">02</span><span class="c2 c5">_create_dev_app_using_acm</span><span class="c9 c5">.yaml</span><span class="c2 c5"><br>task</span><span class="c9 c5">.tekton.dev</span><span class="c2 c5">/etherpad-dev-deployment created<br><br>&gt; oc apply -f tasks/</span><span class="c22 c5">03</span><span class="c2 c5">_create_qa_app_using_acm</span><span class="c9 c5">.yaml</span><span class="c2 c5"><br>task</span><span class="c9 c5">.tekton.dev</span><span class="c2 c5">/etherpad-qa-deployment created<br><br>&gt; oc apply -f tasks/</span><span class="c22 c5">04</span><span class="c2 c5">_create_prd_app_using_acm</span><span class="c9 c5">.yaml</span><span class="c2 c5"><br>task</span><span class="c9 c5">.tekton.dev</span><span class="c2 c5">/etherpad-prd-deployment created<br><br>&gt; oc adm policy add-cluster-role-to-user cluster-admin system:serviceaccount:etherpad-cicd:pipeline<br>clusterrole</span><span class="c9 c5">.rbac.authorization.k8s.io</span><span class="c2 c5">/cluster-admin added: </span><span class="c1 c5">&quot;system:serviceaccount:etherpad-cicd:pipeline&quot;</span><span class="c2 c5"><br><br>&gt; oc apply -f pipeline-acm</span><span class="c9 c5">.yaml</span><span class="c2 c5"><br>pipeline</span><span class="c9 c5">.tekton.dev</span><span class="c2 c5">/deploy-using-acm created<br><br>&gt; oc apply -f prepare/tekton-source-pvc</span><span class="c9 c5">.yaml</span><span class="c2 c5"><br>persistentvolumeclaim/source-pvc created</span></p></td></tr></tbody></table><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">And run our pipeline:</span></p><p class="c3 c8"><span class="c7"></span></p><a id="t.aefb7f3d37ad053a9933852770fa6a2860313ad8"></a><a id="t.5"></a><table class="c6"><tbody><tr class="c15"><td class="c25" colspan="1" rowspan="1"><p class="c12"><span class="c2 c5">&gt; oc apply -f pipelinerun.yaml<br>pipelinerun.tekton.dev/deploy-using-acm-run</span><span class="c22 c5">-1</span><span class="c2 c5">&nbsp;created<br><br>&gt; tkn </span><span class="c2 c5">pipelinerun</span><span class="c2 c5">&nbsp;logs deploy-using-acm-run</span><span class="c22 c5">-1</span><span class="c2 c5">&nbsp;-f<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + CHECKOUT_DIR=</span><span class="c5 c28">/workspace/</span><span class="c2 c5">output/<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + </span><span class="c1 c5">&#39;[[&#39;</span><span class="c2 c5">&nbsp;</span><span class="c35 c5">true</span><span class="c2 c5">&nbsp;</span><span class="c1 c5">&#39;==&#39;</span><span class="c2 c5">&nbsp;</span><span class="c35 c5">true</span><span class="c2 c5">&nbsp;]]<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + cleandir<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + </span><span class="c1 c5">&#39;[[&#39;</span><span class="c2 c5">&nbsp;-d </span><span class="c28 c5">/workspace/</span><span class="c2 c5">output/ ]]<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + rm -rf </span><span class="c28 c5">/workspace/</span><span class="c2 c5">output</span><span class="c23 c5">//onecluster-multiple-envs</span><span class="c2 c5"><br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + rm -rf </span><span class="c28 c5">/workspace/</span><span class="c2 c5">output</span><span class="c23 c5">//.git</span><span class="c2 c5"><br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + rm -rf </span><span class="c1 c5">&#39;/workspace/output//..?*&#39;</span><span class="c2 c5"><br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + test -z <br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + test -z <br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + test -z <br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + </span><span class="c28 c5">/ko-app/</span><span class="c2 c5">git-init -url </span><span class="c1 c5">https:</span><span class="c5 c23">//github.com/giofontana/rhacm-pipelines.git -revision master -refspec &nbsp;-path /workspace/output/ &#39;-sslVerify=true&#39; &#39;-submodules=true&#39; -depth 1</span><span class="c2 c5"><br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] {</span><span class="c1 c5">&quot;level&quot;</span><span class="c2 c5">:</span><span class="c1 c5">&quot;info&quot;</span><span class="c2 c5">,</span><span class="c1 c5">&quot;ts&quot;</span><span class="c2 c5">:</span><span class="c22 c5">1597794549.2025642</span><span class="c2 c5">,</span><span class="c1 c5">&quot;caller&quot;</span><span class="c2 c5">:</span><span class="c1 c5">&quot;git/git.go:136&quot;</span><span class="c2 c5">,</span><span class="c1 c5">&quot;msg&quot;</span><span class="c2 c5">:</span><span class="c1 c5">&quot;Successfully cloned https://github.com/giofontana/rhacm-pipelines.git @ f111d89c17e5647d3cd4dedca6968f20b73cfb0d (grafted, HEAD, origin/master) in path /workspace/output/&quot;</span><span class="c2 c5">}<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] {</span><span class="c1 c5">&quot;level&quot;</span><span class="c2 c5">:</span><span class="c1 c5">&quot;info&quot;</span><span class="c2 c5">,</span><span class="c1 c5">&quot;ts&quot;</span><span class="c2 c5">:</span><span class="c22 c5">1597794549.240191</span><span class="c2 c5">,</span><span class="c1 c5">&quot;caller&quot;</span><span class="c2 c5">:</span><span class="c1 c5">&quot;git/git.go:177&quot;</span><span class="c2 c5">,</span><span class="c1 c5">&quot;msg&quot;</span><span class="c2 c5">:</span><span class="c1 c5">&quot;Successfully initialized and updated submodules in path /workspace/output/&quot;</span><span class="c2 c5">}<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + cd </span><span class="c28 c5">/workspace/</span><span class="c2 c5">output/<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + git rev-parse HEAD<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + tr -d </span><span class="c1 c5">&#39;\n&#39;</span><span class="c2 c5"><br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + RESULT_SHA=f111d89c17e5647d3cd4dedca6968f20b73cfb0d<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + EXIT_CODE=</span><span class="c22 c5">0</span><span class="c2 c5"><br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + </span><span class="c1 c5">&#39;[&#39;</span><span class="c2 c5">&nbsp;</span><span class="c22 c5">0</span><span class="c2 c5">&nbsp;</span><span class="c1 c5">&#39;!=&#39;</span><span class="c2 c5">&nbsp;</span><span class="c22 c5">0</span><span class="c2 c5">&nbsp;]<br>[fetch-</span><span class="c1 c5">repository :</span><span class="c2 c5">&nbsp;clone] + echo -n f111d89c17e5647d3cd4dedca6968f20b73cfb0d<br><br>[create-</span><span class="c1 c5">namespaces :</span><span class="c2 c5">&nbsp;creating-namespaces] **** Creating namespaces ****<br>[create-</span><span class="c1 c5">namespaces :</span><span class="c2 c5">&nbsp;creating-namespaces] namespace/etherpad-acm-dev unchanged<br>[create-</span><span class="c1 c5">namespaces :</span><span class="c2 c5">&nbsp;creating-namespaces] namespace/etherpad-acm-qa unchanged<br>[create-</span><span class="c1 c5">namespaces :</span><span class="c2 c5">&nbsp;creating-namespaces] namespace/etherpad-acm-prd unchanged<br><br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] **** DEV </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating application on RH ACM ****<br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] application.app.k8s.io/etherpad-acm-dev unchanged<br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] **** DEV </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating channel on RH ACM ****<br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] channel.apps.open-cluster-management.io/etherpad-app-latest unchanged<br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] **** DEV </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating placementrule on RH ACM ****<br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] placementrule.apps.open-cluster-management.io/dev-cluster unchanged<br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] **** DEV </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating subscription on RH ACM ****<br>[etherpad-dev-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-dev-deployment] subscription.apps.open-cluster-management.io/etherpad-acm-dev unchanged<br><br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** QA </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating application on RH ACM ****<br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] application.app.k8s.io/etherpad-acm-qa unchanged<br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** QA </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating channel on RH ACM ****<br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] channel.apps.open-cluster-management.io/etherpad-app-latest unchanged<br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** QA </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating placementrule on RH ACM ****<br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] placementrule.apps.open-cluster-management.io/qa-cluster unchanged<br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** QA </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating subscription on RH ACM ****<br>[etherpad-qa-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] subscription.apps.open-cluster-management.io/etherpad-acm-qa unchanged<br><br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** PRD </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating application on RH ACM ****<br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] application.app.k8s.io/etherpad-acm-prd unchanged<br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** PRD </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating channel on RH ACM ****<br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] channel.apps.open-cluster-management.io/etherpad-app-latest unchanged<br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** PRD </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating placementrule on RH ACM ****<br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] placementrule.apps.open-cluster-management.io/prd-cluster unchanged<br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] **** PRD </span><span class="c1 c5">ENVIRONMENT:</span><span class="c2 c5">&nbsp;Creating subscription on RH ACM ****<br>[etherpad-prd-</span><span class="c1 c5">deployment :</span><span class="c2 c5">&nbsp;etherpad-qa-deployment] subscription.apps.open-cluster-management.io/etherpad-acm-prd unchanged</span></p></td></tr></tbody></table><p class="c3"><span class="c7">Note that the tasks have &ldquo;unchanged&rdquo; results because we already have our application deployed.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">Here is how we see this pipeline in the web console:</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 288.00px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 288.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c4 c13" id="h.ap54g3axruk0"><span class="c14">Conclusion</span></h3><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">In this article, we saw how to create three applications on RH ACM in your hub cluster to deploy a sample application for each stage of its lifecycle: Development, QA, and production. We also learned how to create a pipeline using Tekton to make those deployments automatically. </span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span class="c7">In the next article we are going to explore how to have a similar case, but deploying the application in more than one cluster (use cases 2 and 3). In a final article, I am planning to share an entire CI/CD pipeline, including the build phase that we are not mentioning yet.</span></p><p class="c3 c8"><span class="c7"></span></p><p class="c3"><span>I encourage you to try out Red Hat Advanced Cluster Management for Kubernetes if you are looking for a solution for multi-cluster, see </span><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://www.redhat.com/en/technologies/management/advanced-cluster-management&amp;sa=D&amp;ust=1598622970867000&amp;usg=AOvVaw3L9-z5JDo6SKVLvJtyzHIl">here</a></span><span>&nbsp;how to try it</span><span>. Combining it with Red Hat OpenShift Pipelines (Tekton) will give you a powerful native Kubernetes solution for GitOps, you can find more information about it in the </span><span class="c24"><a class="c20" href="https://www.google.com/url?q=https://docs.openshift.com/container-platform/4.5/pipelines/understanding-openshift-pipelines.html&amp;sa=D&amp;ust=1598622970868000&amp;usg=AOvVaw1Xy23NLu45nmE2KtSRQTdn">OpenShift documentation page</a></span><span>.</span></p></body></html>